#include <macro.inc>
.set noat
.set noreorder
.section .text

overlay_table_init_patch:
    lui     $v0,%hi(gOverlayTable)
    addiu   $v0,$v0,%lo(gOverlayTable)
    lui     $t6,%hi(core2_custom_ROM_START)
    lui     $t7,%hi(core2_custom_ROM_END)
    lui     $t8,0x0000 #%hi(emptyLvl_custom_ROM_START)
    lui     $t9,0x0000 #%hi(emptyLvl_custom_ROM_END)
    lui     $t0,%hi(CC_custom_ROM_START)
    lui     $t1,%hi(CC_custom_ROM_END)
    lui     $t2,%hi(MMM_custom_ROM_START)
    lui     $t3,%hi(MMM_custom_ROM_END)
    lui     $t4,%hi(GV_custom_ROM_START)
    lui     $t5,%hi(GV_custom_ROM_END)
    addiu   $t6,$t6,%lo(core2_custom_ROM_START)
    addiu   $t7,$t7,%lo(core2_custom_ROM_END)
    addiu   $t8,$t8,0x0000 #%lo(emptyLvl_custom_ROM_START)
    addiu   $t9,$t9,0x0000 #%lo(emptyLvl_custom_ROM_END)
    addiu   $t0,$t0,%lo(CC_custom_ROM_START)
    addiu   $t1,$t1,%lo(CC_custom_ROM_END)
    addiu   $t2,$t2,%lo(MMM_custom_ROM_START)
    addiu   $t3,$t3,%lo(MMM_custom_ROM_END)
    addiu   $t4,$t4,%lo(GV_custom_ROM_START)
    addiu   $t5,$t5,%lo(GV_custom_ROM_END)
    sw      $t6,0($v0)
    sw      $t7,4($v0)
    sw      $t8,8($v0)
    sw      $t9,12($v0)
    sw      $t0,16($v0)
    sw      $t1,20($v0)
    sw      $t2,24($v0)
    sw      $t3,28($v0)
    sw      $t4,32($v0)
    sw      $t5,36($v0)
    lui     $t6,%hi(TTC_custom_ROM_START)
    lui     $t7,%hi(TTC_custom_ROM_END)
    lui     $t8,%hi(MM_custom_ROM_START)
    lui     $t9,%hi(MM_custom_ROM_END)
    lui     $t0,%hi(BGS_custom_ROM_START)
    lui     $t1,%hi(BGS_custom_ROM_END)
    lui     $t2,%hi(RBB_custom_ROM_START)
    lui     $t3,%hi(RBB_custom_ROM_END)
    lui     $t4,%hi(FP_custom_ROM_START)
    lui     $t5,%hi(FP_custom_ROM_END)
    addiu   $t6,$t6,%lo(TTC_custom_ROM_START)
    addiu   $t7,$t7,%lo(TTC_custom_ROM_END)
    addiu   $t8,$t8,%lo(MM_custom_ROM_START)
    addiu   $t9,$t9,%lo(MM_custom_ROM_END)
    addiu   $t0,$t0,%lo(BGS_custom_ROM_START)
    addiu   $t1,$t1,%lo(BGS_custom_ROM_END)
    addiu   $t2,$t2,%lo(RBB_custom_ROM_START)
    addiu   $t3,$t3,%lo(RBB_custom_ROM_END)
    addiu   $t4,$t4,%lo(FP_custom_ROM_START)
    addiu   $t5,$t5,%lo(FP_custom_ROM_END)
    sw      $t6,40($v0)
    sw      $t7,44($v0)
    sw      $t8,48($v0)
    sw      $t9,52($v0)
    sw      $t0,56($v0)
    sw      $t1,60($v0)
    sw      $t2,64($v0)
    sw      $t3,68($v0)
    sw      $t4,72($v0)
    sw      $t5,76($v0)
    lui     $t6,%hi(CCW_custom_ROM_START)
    lui     $t7,%hi(CCW_custom_ROM_END)
    lui     $t8,%hi(SM_custom_ROM_START)
    lui     $t9,%hi(SM_custom_ROM_END)
    lui     $t0,%hi(cutscenes_custom_ROM_START)
    lui     $t1,%hi(cutscenes_custom_ROM_END)
    lui     $t2,%hi(lair_custom_ROM_START)
    lui     $t3,%hi(lair_custom_ROM_END)
    lui     $t4,%hi(fight_custom_ROM_START)
    lui     $t5,%hi(fight_custom_ROM_END)
    addiu   $t6,$t6,%lo(CCW_custom_ROM_START)
    addiu   $t7,$t7,%lo(CCW_custom_ROM_END)
    addiu   $t8,$t8,%lo(SM_custom_ROM_START)
    addiu   $t9,$t9,%lo(SM_custom_ROM_END)
    addiu   $t0,$t0,%lo(cutscenes_custom_ROM_START)
    addiu   $t1,$t1,%lo(cutscenes_custom_ROM_END)
    addiu   $t2,$t2,%lo(lair_custom_ROM_START)
    addiu   $t3,$t3,%lo(lair_custom_ROM_END)
    addiu   $t4,$t4,%lo(fight_custom_ROM_START)
    addiu   $t5,$t5,%lo(fight_custom_ROM_END)
    sw      $t6,80($v0)
    sw      $t7,84($v0)
    sw      $t8,88($v0)
    sw      $t9,92($v0)
    sw      $t0,96($v0)
    sw      $t1,100($v0)
    sw      $t2,104($v0)
    sw      $t3,108($v0)
    sw      $t4,112($v0)
    j       dma_code
    sw      $t5,116($v0)